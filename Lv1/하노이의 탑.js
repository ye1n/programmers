// 1, 2, 3 기둥이 존재
// 기본값: 1번 기둥에 n개의 원판
// n개의 원판을 1 -> 3 원판으로 최소로 옮기는 순서
// 단, n은 15이하 자연수

// n → 2**n-1
// n=1 → 1 [ [1,3] ]
// n=2 → 3 [ [1,2], [1,3], [2,3] ]
// n=3 → 7 [ [1,3], [1,2], [3,2], [1,3], [2,1], [2,3], [1,3] ]
// n=4 → 15 [ [1,2], [1,3], [2,3], [1,2], [3,1], [3,2], [1,2], [1,3], [2,3], [2,1], [3,1], [2,3], [1,2], [1,3], [2,3] ]
// n=5 → 31 [ [1,3], [1,2], [3,2], [1,3], [2,1], [2,3], [1,3], [1,2], [3,2], [3,1], [2,1], [3,2], [1,3], [1,2], [3,2],
//     [1,3], [2,1], [2,3], [1,3], [2,1], [3,2], [3,1], [2,1], [2,3], [1,3], [1,2], [3,2], [1,3], [2,1], [2,3], [1,3] ]

// 하노이의 탑 n의 반은 대칭과 같다
// 아래 순서대로 늘리다가 최종 배열의 길이에 절반에 오면 반대로 복사
// [1,3] <-> [1,3]
// [1,2] <-> [2,3]
// [3,2] <-> [2,1]
// [3,1] <-> [3,1]

function solution(n) {
  var answer = [];
  for (let i = 0; i < 2 ** n - 1; i++) {
    // i = 0,1,2,3,4,5
    // index = 0,1,2,0,1,2
    let index = i % 3;
    let loop = i / 3;
    let arr = [];
    if (n % 2 === 0) {
      // 짝수
      // [1,2], [1,3], [2,3]
      if (index === 0) {
        arr = [1, 2];
      } else if (index === 1) {
        arr = [1, 3];
      } else {
        arr = [2, 3];
      }
    } else {
      // 홀수
      // [1,3], [1,2], [3,2]
      if (index === 0) {
        arr = [1, 3];
      } else if (index === 1) {
        arr = [1, 2];
      } else {
        arr = [3, 2];
      }
    }
    answer.push(arr);
  }
  return answer;
}

console.log(solution(1));
